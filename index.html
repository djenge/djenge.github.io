<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-java简介" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/07/java%E7%AE%80%E4%BB%8B/" class="article-date">
  <time class="dt-published" datetime="2023-03-07T11:19:40.000Z" itemprop="datePublished">2023-03-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java%E5%9F%BA%E7%A1%80/">Java基础</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/07/java%E7%AE%80%E4%BB%8B/">java简介</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Java简介"><a href="#Java简介" class="headerlink" title="Java简介"></a><code>Java</code>简介</h1><p><code>Java</code> 是由 <code>Sun Microsystems</code> 公司于 1995 年 5 月推出的 <code>Java</code> 面向对象程序设计语言和<code> Java</code> 平台的总称。由 <code>James Gosling</code>和同事们共同研发，并在 1995 年正式推出。</p>
<p>后来 <code>Sun</code> 公司被 <code>Oracle</code> （甲骨文）公司收购，<code>Java</code> 也随之成为 <code>Oracle </code>公司的产品。</p>
<p><code>Java</code>分为三个体系：</p>
<ul>
<li><code>JavaSE（J2SE）</code>（<code>Java2 Platform Standard Edition</code>，<code>java</code>平台标准版）</li>
<li><code>JavaEE</code>(<code>J2EE</code>)(<code>Java 2 Platform,Enterprise Edition</code>，<code>java</code>平台企业版)</li>
<li><code>JavaME</code>(<code>J2ME</code>)(<code>Java 2 Platform Micro Edition</code>，<code>java</code>平台微型版)。</li>
</ul>
<p>2005 年 6 月，<code>JavaOne</code> 大会召开，<code>SUN</code> 公司公开 <code>Java SE 6</code>。此时，<code>Java</code> 的各种版本已经更名，以取消其中的数字 “<code>2</code>“：<code>J2EE</code> 更名为 <code>Java EE</code>，<code>J2SE</code> 更名为<code>Java SE</code>，<code>J2ME</code> 更名为 <code>Java ME</code>。</p>
<hr>
<h2 id="主要特性"><a href="#主要特性" class="headerlink" title="主要特性"></a>主要特性</h2><ul>
<li><p><strong>Java 语言是简单的：</strong></p>
<p><code>Java</code> 语言的语法与<code> C</code> 语言和<code> C++</code> 语言很接近，使得大多数程序员很容易学习和使用。另一方面，<code>Java </code>丢弃了 <code>C++</code> 中很少使用的、很难理解的、令人迷惑的那些特性，如操作符重载、多继承、自动的强制类型转换。特别地，<code>Java </code>语言不使用指针，而是引用。并提供了自动分配和回收内存空间，使得程序员不必为内存管理而担忧。</p>
</li>
<li><p><strong>Java 语言是面向对象的：</strong></p>
<p><code>Java</code> 语言提供类、接口和继承等面向对象的特性，为了简单起见，只支持类之间的单继承，但支持接口之间的多继承，并支持类与接口之间的实现机制（关键字为 <code>implements</code>）。<code>Java</code> 语言全面支持动态绑定，而 <code>C++</code>语言只对虚函数使用动态绑定。总之，<code>Java</code>语言是一个纯的面向对象程序设计语言。</p>
</li>
<li><p><strong>Java语言是分布式的：</strong></p>
<p><code>Java </code>语言支持 <code>Internet</code> 应用的开发，在基本的 <code>Java</code> 应用编程接口中有一个网络应用编程接口（<code>java net</code>），它提供了用于网络应用编程的类库，包括 <code>URL</code>、<code>URLConnection</code>、<code>Socket</code>、<code>ServerSocket</code> 等。<code>Java</code> 的 <code>RMI</code>（远程方法激活）机制也是开发分布式应用的重要手段。</p>
</li>
<li><p><code>Java</code> 语言是健壮的：</p>
<p><code>Java</code> 的强类型机制、异常处理、垃圾的自动收集等是 <code>Java</code> 程序健壮性的重要保证。对指针的丢弃是 <code>Java</code> 的明智选择。<code>Java</code> 的安全检查机制使得 <code>Java</code> 更具健壮性。</p>
</li>
<li><p><strong>Java语言是安全的：</strong></p>
<p><code>Java</code>通常被用在网络环境中，为此，<code>Java</code> 提供了一个安全机制以防恶意代码的攻击。除了<code>Java</code> 语言具有的许多安全特性以外，<code>Java</code> 对通过网络下载的类具有一个安全防范机制（类 <code>ClassLoader</code>），如分配不同的名字空间以防替代本地的同名类、字节代码检查，并提供安全管理机制（类 <code>SecurityManager</code>）让 <code>Java</code> 应用设置安全哨兵。</p>
</li>
<li><p><strong>Java 语言是体系结构中立的：</strong></p>
<p><code>Java</code> 程序（后缀为 <code>java</code> 的文件）在 <code>Java</code> 平台上被编译为体系结构中立的字节码格式（后缀为 <code>class</code> 的文件），然后可以在实现这个<code> Java</code> 平台的任何系统中运行。这种途径适合于异构的网络环境和软件的分发。</p>
</li>
<li><p><strong>Java 语言是可移植的：</strong></p>
<p>这种可移植性来源于体系结构中立性，另外，<code>Java </code>还严格规定了各个基本数据类型的长度。<code>Java</code> 系统本身也具有很强的可移植性，<code>Java </code>编译器是用 <code>Java </code>实现的，<code>Java</code> 的运行环境是用 <code>ANSI C </code>实现的。</p>
</li>
<li><p><strong>Java 语言是解释型的：</strong></p>
<p>如前所述，<code>Java</code> 程序在 <code>Java</code> 平台上被编译为字节码格式，然后可以在实现这个 <code>Java</code> 平台的任何系统中运行。在运行时，<code>Java</code> 平台中的 <code>Java</code> 解释器对这些字节码进行解释执行，执行过程中需要的类在联接阶段被载入到运行环境中。</p>
</li>
<li><p><strong>Java 是高性能的：</strong></p>
<p>与那些解释型的高级脚本语言相比，<code>Java</code> 的确是高性能的。事实上，<code>Java</code> 的运行速度随着 <code>JIT(Just-In-Time）</code>编译器技术的发展越来越接近于 <code>C++</code>。</p>
</li>
<li><p><strong>Java 语言是多线程的：</strong></p>
<p>在<code> Java</code> 语言中，线程是一种特殊的对象，它必须由 <code>Thread</code> 类或其子（孙）类来创建。通常有两种方法来创建线程：其一，使用型构为 <code>Thread(Runnable)</code> 的构造子类将一个实现了 <code>Runnable</code> 接口的对象包装成一个线程，其二，从 <code>Thread</code> 类派生出子类并重写 <code>run</code> 方法，使用该子类创建的对象即为线程。值得注意的是 <code>Thread </code>类已经实现了 <code>Runnable</code> 接口，因此，任何一个线程均有它的 <code>run</code> 方法，而 <code>run </code>方法中包含了线程所要运行的代码。线程的活动由一组方法来控制。<code>Java</code> 语言支持多个线程的同时执行，并提供多线程之间的同步机制（关键字为 <code>synchronized</code>）。</p>
</li>
<li><p><strong><code>Java</code> 语言是动态的：</strong></p>
<p><code>Java</code> 语言的设计目标之一是适应于动态变化的环境。<code>Java</code> 程序需要的类能够动态地被载入到运行环境，也可以通过网络来载入所需要的类。这也有利于软件的升级。另外，<code>Java</code> 中的类有一个运行时刻的表示，能进行运行时刻的类型检查。</p>
</li>
</ul>
<hr>
<h2 id="发展历史"><a href="#发展历史" class="headerlink" title="发展历史"></a>发展历史</h2><ul>
<li>1995 年 5 月 23 日，<code>Java</code> 语言诞生</li>
<li>1996 年 1 月，第一个 <code>JDK-JDK1.0</code> 诞生</li>
<li>1996 年 4 月，10 个最主要的操作系统供应商申明将在其产品中嵌入 <code>JAVA</code> 技术</li>
<li>1996 年 9 月，约 8.3 万个网页应用了 <code>JAVA</code> 技术来制作</li>
<li>1997 年 2 月 18 日，<code>JDK1.1</code> 发布</li>
<li>1997 年 4 月 2 日，<code>JavaOne</code> 会议召开，参与者逾一万人，创当时全球同类会议规模之纪录</li>
<li>1997 年 9 月，<code>JavaDeveloperConnection</code> 社区成员超过十万</li>
<li>1998 年 2 月，<code>JDK1.1</code> 被下载超过 2,000,000次</li>
<li>1998 年 12 月 8 日，<code>JAVA2 </code>企业平台<code>J2EE</code>发布</li>
<li>1999 年 6月，<code>SUN</code> 公司发布 <code>Java</code> 的三个版本：标准版（<code>JavaSE</code>, 以前是 <code>J2SE</code>）、企业版（<code>JavaEE</code> 以前是 <code>J2EE</code>）和微型版（<code>JavaME</code>，以前是 <code>J2ME</code>）</li>
<li>2000 年 5 月 8 日，<code>JDK1.3</code> 发布</li>
<li>2000 年 5 月 29 日，<code>JDK1.4</code> 发布</li>
<li>2001 年 6 月 5 日，<code>NOKIA</code> 宣布，到 2003 年将出售 1 亿部支持 <code>Java</code> 的手机</li>
<li>2001 年 9 月 24 日，<code>J2EE1.3</code> 发布</li>
<li>2002 年 2 月 26 日，<code>J2SE1.4</code> 发布，自此 <code>Java</code> 的计算能力有了大幅提升</li>
<li>2004 年 9 月 30 日 <code>18:00PM</code>，<code>J2SE1.5</code> 发布，成为 <code>Java</code> 语言发展史上的又一里程碑。为了表示该版本的重要性，<code>J2SE1.5</code> 更名为 <code>Java SE 5.0</code></li>
<li>2005 年 6 月，<code>JavaOne</code> 大会召开，<code>SUN</code> 公司公开<code> Java SE 6</code>。此时，<code>Java</code> 的各种版本已经更名，以取消其中的数字 “2”：<code>J2EE</code> 更名为 <code>Java EE</code>，<code>J2SE</code> 更名为 <code>Java SE</code>，<code>J2ME </code>更名为 <code>Java ME</code></li>
<li>2006 年 12 月，SUN 公司发布 <code>JRE6.0</code></li>
<li><strong>2009 年 04 月 20 日，甲骨文 74 亿美元收购 Sun，取得 Java 的版权。</strong></li>
<li>2010 年 11 月，由于甲骨文对于 <code>Java</code> 社区的不友善，因此 <code>Apache</code> 扬言将退出 <code>JCP</code>。</li>
<li>2011 年 7 月 28 日，甲骨文发布 <code>Java7.0</code> 的正式版。</li>
<li>2014 年 3 月 18 日，<code>Oracle</code> 公司发表 <code>Java SE 8</code>。</li>
<li>2017 年 9 月 21 日，<code>Oracle</code> 公司发表 <code>Java SE 9</code></li>
<li>2018 年 3 月 21 日，<code>Oracle</code> 公司发表 <code>Java SE 10</code></li>
<li>2018 年 9 月 25 日，<code>Java SE 11</code> 发布</li>
<li>2019 年 3 月 20 日，<code>Java SE 12</code> 发布</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/07/java%E7%AE%80%E4%BB%8B/" data-id="cley772620000vgve978g16n0" data-title="java简介" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-第一个java程序" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/07/%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F/" class="article-date">
  <time class="dt-published" datetime="2023-03-07T10:58:59.000Z" itemprop="datePublished">2023-03-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java%E5%9F%BA%E7%A1%80/">Java基础</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/07/%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F/">第一个java程序</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="我的第一个java程序"><a href="#我的第一个java程序" class="headerlink" title="我的第一个java程序"></a>我的第一个<code>java</code>程序</h1><p>创建文件<code>HelloWorld.java</code>(<strong>文件名需与类名一致</strong>)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>String args[]</code>和<code>String[] args</code>都可以执行，但推荐使用<code>String[] args</code>这样可以避免歧义和误读。</p>
<p>运行以上实例，输出结果如下</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">E:\Java基础&gt;javac HelloWorld.java</span><br><span class="line"></span><br><span class="line">E:\Java基础&gt;java HelloWorld</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<h3 id="执行命令解析："><a href="#执行命令解析：" class="headerlink" title="执行命令解析："></a>执行命令解析：</h3><p>以上我们使用了两个命令 <code>javac </code>和 <code>java</code>。</p>
<p><code>javac</code> 后面跟着的是<code>java</code>文件的文件名，例如 <code>HelloWorld.java</code>。 该命令用于将 <code>java</code> 源文件编译为 <code>class</code> 字节码文件，如： <code>javac HelloWorld.java</code>。</p>
<p>运行<code>javac</code>命令后，如果成功编译没有错误的话，会出现一个 <code>HelloWorld.class</code> 的文件。</p>
<p><code>java</code> 后面跟着的是<code>java</code>文件中的类名,例如 <code>HelloWorld</code> 就是类名，如: <code>java HelloWorld</code>。</p>
<p><strong>注意</strong>：<code>java</code>命令后面不要加<code>.class</code>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/07/%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F/" data-id="cley7726c0004vgve1omnelvr" data-title="第一个java程序" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-推导式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/05/%E6%8E%A8%E5%AF%BC%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2023-03-05T12:22:58.000Z" itemprop="datePublished">2023-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PythonNotes/">PythonNotes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/05/%E6%8E%A8%E5%AF%BC%E5%BC%8F/">推导式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python推导式"><a href="#Python推导式" class="headerlink" title="Python推导式"></a><code>Python推导式</code></h1><p>Python 推导式是一种独特的数据处理方式，可以从一个数据序列构建另一个新的数据序列的结构体。</p>
<p>Python 支持各种数据结构的推导式：</p>
<ul>
<li><p>列表(<code>list</code>)推导式</p>
</li>
<li><p>字典(<code>dict</code>)推导式</p>
</li>
<li><p>集合(<code>set</code>)推导式</p>
</li>
<li><p>元组(<code>tuple</code>)推导式</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/05/%E6%8E%A8%E5%AF%BC%E5%BC%8F/" data-id="cley772660001vgve6izu58uh" data-title="推导式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-考研复试问题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/01/%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95%E9%97%AE%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2023-03-01T08:22:58.000Z" itemprop="datePublished">2023-03-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%80%83%E7%A0%94/">考研</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/01/%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95%E9%97%AE%E9%A2%98/">考研复试问题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="英文问答"><a href="#英文问答" class="headerlink" title="英文问答"></a>英文问答</h1><h2 id="大学里学过的计算机课程"><a href="#大学里学过的计算机课程" class="headerlink" title="大学里学过的计算机课程"></a>大学里学过的计算机课程</h2><p>Introduction of Computer, Software Engineering, Data Structure, Principle of Compiling, Signal and System, Computer Organization, Computer Networking, Operating System, Discrete Mathematics, Linear Algebra, Probability and Statistics.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/01/%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95%E9%97%AE%E9%A2%98/" data-id="cleus6zcj00010wvea1uxdx88" data-title="考研复试问题" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%80%83%E7%A0%94/" rel="tag">考研</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-字典" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/13/%E5%AD%97%E5%85%B8/" class="article-date">
  <time class="dt-published" datetime="2023-02-13T09:49:26.000Z" itemprop="datePublished">2023-02-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PythonNotes/">PythonNotes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/13/%E5%AD%97%E5%85%B8/">字典</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h1><h2 id="字典内置方法"><a href="#字典内置方法" class="headerlink" title="字典内置方法"></a>字典内置方法</h2><h3 id="get"><a href="#get" class="headerlink" title="get()"></a><code>get()</code></h3><p><code>Python</code>字典的<code>get()</code>函数返回指定键的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>.get(key, value)</span><br></pre></td></tr></table></figure>

<p><code>key</code>–字典中要查找的的键。</p>
<p><code>value</code>–可选，如果指定键的值不存在时，返回该默认值。</p>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>返回指定键的值，如果键不再字典中返回默认值<code>None</code>或者设置的默认值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tinydict = &#123;<span class="string">&#x27;Name&#x27;</span>: <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>: <span class="number">27</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;Age: &quot;</span>, tinydict.get(<span class="string">&#x27;Age&#x27;</span>))</span><br><span class="line">Age:  <span class="number">27</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;Age: &quot;</span>, tinydict.get(<span class="string">&#x27;Sex&#x27;</span>)) <span class="comment"># 没有设置Sex,也没有m设置默认的值，输出None</span></span><br><span class="line">Age:  <span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;Age: &quot;</span>, tinydict.get(<span class="string">&#x27;Salary&#x27;</span>, <span class="number">0.0</span>)) <span class="comment"># 没有设置Salary，设置默认的输出值0.0</span></span><br><span class="line">Age:  <span class="number">0.0</span></span><br></pre></td></tr></table></figure>

<h3 id="get-方法与dict-key-访问元素区别"><a href="#get-方法与dict-key-访问元素区别" class="headerlink" title="get()方法与dict[key]访问元素区别"></a><code>get()</code>方法与<code>dict[key]</code>访问元素区别</h3><p><code>get(key)</code> 方法在 <code>key</code>（键）不在字典中时，可以返回默认值 <code>None</code> 或者设置的默认值。</p>
<p><code>dict[key]</code> 在 <code>key</code>（键）不在字典中时，会触发 <code>KeyError</code> 异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>runoob = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;URL: &#x27;</span>, runoob.get(<span class="string">&#x27;url&#x27;</span>))     <span class="comment"># 返回 None</span></span><br><span class="line">URL:  <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(runoob[<span class="string">&#x27;url&#x27;</span>])     <span class="comment"># 触发 KeyError</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">KeyError: <span class="string">&#x27;url&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="嵌套字典使用"><a href="#嵌套字典使用" class="headerlink" title="嵌套字典使用"></a>嵌套字典使用</h3><p><code>get()</code>方法对嵌套字典的使用方法如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tinydict = &#123;<span class="string">&#x27;RUNOOB&#x27;</span> : &#123;<span class="string">&#x27;url&#x27;</span>:<span class="string">&#x27;www.runoob.com&#x27;</span>&#125;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>res = tinydict.get(<span class="string">&#x27;RUNOOB&#x27;</span>,&#123;&#125;).get(<span class="string">&#x27;url&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># 输出结果</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;RUNOOB url为: &quot;</span>, <span class="built_in">str</span>(res))</span><br><span class="line">RUNOOB url为:  www.runoob.com</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/13/%E5%AD%97%E5%85%B8/" data-id="cleus6zcf00000wvee0mi44f9" data-title="字典" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-字符串" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/12/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="article-date">
  <time class="dt-published" datetime="2023-02-12T12:04:54.000Z" itemprop="datePublished">2023-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/12/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/12/%E5%AD%97%E7%AC%A6%E4%B8%B2/" data-id="cle1d64r300011sve604y01nc" data-title="字符串" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-列表" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/12/%E5%88%97%E8%A1%A8/" class="article-date">
  <time class="dt-published" datetime="2023-02-12T12:04:44.000Z" itemprop="datePublished">2023-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/12/%E5%88%97%E8%A1%A8/">列表</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/12/%E5%88%97%E8%A1%A8/" data-id="cle1d64qz00001sve8r3n7om2" data-title="列表" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-常用数据结构" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/10/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2023-02-10T09:47:59.000Z" itemprop="datePublished">2023-02-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PythonNotes/">PythonNotes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/10/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">常用数据结构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="常用数据结构"><a href="#常用数据结构" class="headerlink" title="常用数据结构"></a>常用数据结构</h1><h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><p><code>heap</code>值得是小根堆</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq <span class="comment"># 载入heap库</span></span><br><span class="line">array = [<span class="number">10</span>, <span class="number">17</span>, <span class="number">50</span>, <span class="number">7</span>, <span class="number">30</span>, <span class="number">24</span>, <span class="number">27</span>, <span class="number">45</span>, <span class="number">15</span>, <span class="number">5</span>, <span class="number">36</span>, <span class="number">21</span>]</span><br><span class="line">heap = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> array:</span><br><span class="line">    heapq.heappush(heap, num)</span><br></pre></td></tr></table></figure>

<h3 id="使数组转化为堆"><a href="#使数组转化为堆" class="headerlink" title="使数组转化为堆"></a>使数组转化为堆</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heapq.heapify(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">heapq.heapify(heap)</span><br><span class="line"><span class="comment"># heap = [1,2,4,3,6,8,9]</span></span><br></pre></td></tr></table></figure>

<h3 id="为heap增加元素"><a href="#为heap增加元素" class="headerlink" title="为heap增加元素"></a>为<code>heap</code>增加元素</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heapq.heqppush(heap.item)</span><br><span class="line">heapq.heappush(heap, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># heap = [1,3,4,2,6,8,9,2]</span></span><br></pre></td></tr></table></figure>

<h3 id="删除堆顶-即最小值"><a href="#删除堆顶-即最小值" class="headerlink" title="删除堆顶(即最小值)"></a>删除堆顶(即最小值)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heapq.heappop(heap)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">heapq.heappop(heap)</span><br><span class="line"><span class="comment"># heap = [2, 3, 4, 4, 6, 8, 9]</span></span><br></pre></td></tr></table></figure>

<h3 id="删除最小值并添加新值"><a href="#删除最小值并添加新值" class="headerlink" title="删除最小值并添加新值"></a>删除最小值并添加新值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heapq.heapreplace(heap, item)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">heapq.heapreplace(heap,<span class="number">4</span>)</span><br><span class="line"><span class="comment"># heap = [2, 3, 4, 4, 6, 8, 9] # 删除堆顶后将新元素放到堆顶，然后下沉</span></span><br></pre></td></tr></table></figure>

<h3 id="查堆中最大n个数"><a href="#查堆中最大n个数" class="headerlink" title="查堆中最大n个数"></a>查堆中最大<code>n</code>个数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heapq.nlargest(n, heap) <span class="comment">#查询堆中的最小元素</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">result = heapq.nlargest(<span class="number">2</span>, heap)</span><br><span class="line"><span class="comment"># result = [9,8]</span></span><br></pre></td></tr></table></figure>

<h3 id="查询堆中最小n个数"><a href="#查询堆中最小n个数" class="headerlink" title="查询堆中最小n个数"></a>查询堆中最小<code>n</code>个数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heapq.nsmallest(<span class="number">2</span>, heap)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">result = heapq.nsmallest(<span class="number">2</span>, heap)</span><br><span class="line"><span class="comment"># result = [1,2]</span></span><br></pre></td></tr></table></figure>

<h2 id="bisect模块"><a href="#bisect模块" class="headerlink" title="bisect模块"></a><code>bisect</code>模块</h2><p>想要使用二分查找，但是懒得写，就用<code>bisect</code>模块。它实现了<code>bisection</code>算法，能够保持序列<code>sequence</code>顺序不变的情况下对其进行<code>二分查找</code>，适用于降低对冗长序列查找的时间成本。</p>
<p>通过调用内建函数 <code>dir(bisect)</code> 可查看<code> bisect</code> 模块的属性和方法列表。可见，<code>bisect</code> 模块只有 6 个方法，相当简练。再调用 <code>help(bisect)</code> 则可以查看帮助文档。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> bisect</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(bisect)</span><br><span class="line">[<span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__cached__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__file__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>, <span class="string">&#x27;bisect&#x27;</span>, <span class="string">&#x27;bisect_left&#x27;</span>, <span class="string">&#x27;bisect_right&#x27;</span>, <span class="string">&#x27;insort&#x27;</span>, <span class="string">&#x27;insort_left&#x27;</span>, <span class="string">&#x27;insort_right&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><code>bisect_left()</code>	查找目标元素左侧插入点<br><code>bisect_right()</code>	查找目标元素右侧插入点<br><code>bisect()</code>	同 <code>bisect_right()</code><br><code>insort_left()</code>	查找目标元素左侧插入点，并保序地 插入 元素<br><code>insort_right()</code>	查找目标元素右侧插入点，并保序地 插入 元素<br><code>insort()</code>	同 <code>insort_right()</code></p>
<p>使用 <code>bisect</code> 模块的方法之前，须确保待操作对象是 <strong>有序序列</strong>，即元素已按 <strong>从大到小 &#x2F; 从小到大</strong> 的顺序排列。</p>
<h3 id="bisect-left"><a href="#bisect-left" class="headerlink" title="bisect_left()"></a><code>bisect_left()</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bisect.bisect_left(a,x,[lo=<span class="number">0</span>, hi=<span class="built_in">len</span>(a)])</span><br></pre></td></tr></table></figure>

<p>在序列 <code>a</code> 中二分查找适合元素 <code>x</code> 插入的位置，保证 <code>a</code> 仍为 有序序列。</p>
<p>若序列 <code>a</code> 中存在与 <code>x</code> 相同的元素，则返回与 <code>x</code> 相同的第一个 (最左侧) 元素的位置索引，使得 <code>x</code> 若插入后能位于其 左侧；</p>
<p>若序列 <code>a</code> 中不存在与 <code>x</code> 相同的元素，则返回与 <code>x</code> 右侧距离最近的元素位置索引，使得 <code>x</code> 若插入后能位于其 左侧。</p>
<p>而 <code>lo</code> 和 <code>hi</code> 为可选参数，分别定义查找范围&#x2F;返回索引的 上限和下限，缺省时默认对 整个 序列查找。</p>
<p>因此，返回的位置索引 又称为 “插入点”，将其设为 <code>i</code>，则序列 <code>a</code> 可以被划分为两部分，切片表示左侧 <code>a[lo, i)</code> 和右侧 <code>a[i, hi]</code> 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 测试序列 a1 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a1 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]  <span class="comment"># 元素从小到大排列, 无重复, 等距</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># lo 和 hi 缺省时默认查找整个序列</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">4</span>)    <span class="comment"># 与 x=4 右侧最近的元素是 5, 其位置 index=0 (若插入, list 变为 [4, 5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">4.5</span>)  <span class="comment"># 与 x=4.5 右侧最近的元素是 5, 其位置 index=0 (若插入, list 变为 [4.5, 5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">5</span>)    <span class="comment"># x=5 的位置 index=0 (若插入, list 变为 [5, 5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">5.5</span>)  <span class="comment"># 与 x=5.5 右侧最近的元素是 6, 其位置 index=1 (若插入, list 变为 [5, 5.5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">6</span>)    <span class="comment"># x=6 的位置 index=1 (若插入, list 变为 [5, 6, 6, 7, 8, 9])</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">6.5</span>)  <span class="comment"># 与 x=6.5 右侧最近的元素是 7, 其位置 index=2 (若插入, list 变为 [5, 6, 6.5, 7, 8, 9])</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">7</span>)    <span class="comment"># x=7 的位置 index=2 (若插入, list 变为 [5, 6, 7, 7, 8, 9])</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">7.5</span>)  <span class="comment"># 与 x=7.5 右侧最近的元素是 8, 其位置 index=3 (若插入, list 变为 [5, 6, 7, 7.5, 8, 9])</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">8</span>)    <span class="comment"># x=8 的位置 index=3 (若插入, list 变为 [5, 6, 7, 8, 8, 9])</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">8.5</span>)  <span class="comment"># 与 x=8.5 右侧最近的元素是 9, 其位置 index=4 (若插入, list 变为 [5, 6, 7, 8, 8.5, 9])</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">9</span>)    <span class="comment"># x=9 的位置 index=4 (若插入, list 变为 [5, 6, 7, 8, 9, 9])</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">9.5</span>)  <span class="comment"># 默认上限 hi=5 (若插入, list 变为 [5, 6, 7, 8, 9, 9.5])</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a1, <span class="number">10</span>)   <span class="comment"># 默认上限 hi=5 (若插入, list 变为 [5, 6, 7, 8, 9, 10])</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>以上是理想情况，若不是理想情况:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 测试序列 a2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>]  <span class="comment"># 元素从小到大排列，有重复, 不等距</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># lo 和 hi 缺省时默认查找整个序列</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">0</span>)    <span class="comment"># 与 x=0 右侧最近的元素是 1, 其位置 index=0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">0.5</span>)  <span class="comment"># 与 x=0.5 右侧最近的元素是 1, 其位置 index=0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">1</span>)    <span class="comment"># x=1 的位置 index=0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">1.5</span>)  <span class="comment"># 与 x=1.5 右侧最近的元素是 3, 其位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">2</span>)    <span class="comment"># 与 x=2 右侧最近的元素是 3, 其位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">2.5</span>)  <span class="comment"># 与 x=2.5 右侧最近的元素是 3, 其位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">3</span>)    <span class="comment"># 第一个(最左侧) x=3 的位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">3.5</span>)  <span class="comment"># 与 x=3.5 右侧最近的元素是 4, 其位置 index=3 </span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">4</span>)    <span class="comment"># x=4 的位置 index=3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">4.5</span>)  <span class="comment"># 与 x=4 右侧最近的元素是 7, 其位置 index=4 </span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">5</span>)    <span class="comment"># 与 x=5 右侧最近的元素是 7, 其位置 index=4 </span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">5.5</span>)  <span class="comment"># 与 x=5.5 右侧最近的元素是 7, 其位置 index=4 </span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">6</span>)    <span class="comment"># 与 x=6 右侧最近的元素是 7, 其位置 index=4 </span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">6.5</span>)  <span class="comment"># 与 x=6.5 右侧最近的元素是 7, 其位置 index=4 </span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">7</span>)    <span class="comment"># x=7 的位置 index=3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">7.5</span>)  <span class="comment"># 默认上限 hi=5 </span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>若再限制一下查找位置&#x2F;上下限</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 测试序列 a2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>]  <span class="comment"># 元素从小到大排列，有重复, 不等距</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 限定查找范围：[lo=1, hi=3] </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 与 x=0 右侧最近的元素是 1, 其位置 index=0, 但下限 lo=1, 故只能返回位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># x=1 的位置 index=0, 但下限 lo=1, 故只能返回位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 与 x=2 右侧最近的元素是 3, 其位置 index=1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 第一个(最左侧) x=3 的位置 index=1 </span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># x=4 的位置 index=3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 与 x=5 右侧最近的元素是 7, 其位置 index=4, 但上限 hi=3, 故只能返回位置 index=3 </span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">6</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 与 x=6 右侧最近的元素是 7, 其位置 index=4, 但上限 hi=3, 故只能返回位置 index=3 </span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># x=7 的位置 index=4, 但上限 hi=3, 故只能返回位置 index=3 </span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a2, <span class="number">8</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 上限 hi=3</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><code>python</code>常用的<code>sequence</code>除了<code>list</code>之外还有<code>tuple</code>和<code>string</code>,下面展示<code>string</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 测试序列 a3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a3 = <span class="string">&#x27;acegi&#x27;</span>  <span class="comment"># 元素从小到大排列，不重复, 等距 </span></span><br><span class="line">                  <span class="comment"># 注意, 表明上看是按字母顺序, 实质上是按 ASCII 码顺序, 如 ord(&#x27;a&#x27;)=97, ord(&#x27;b&#x27;)=98 ...</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># lo 和 hi 缺省时默认查找整个序列 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;a&#x27;</span>)  </span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;f&#x27;</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;h&#x27;</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;i&#x27;</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.bisect_left(a3, <span class="string">&#x27;j&#x27;</span>)</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<h3 id="bisect-right"><a href="#bisect-right" class="headerlink" title="bisect_right()"></a><code>bisect_right()</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bisect.bisect_right(a, x, [lo=<span class="number">0</span>, hi=<span class="built_in">len</span>(a)])</span><br></pre></td></tr></table></figure>

<p>在序列 <code>a</code> 中二分查找适合元素 <code>x</code> 插入的位置，保证 <code>a</code> 仍为 有序序列。</p>
<p>若序列 <code>a</code> 中存在与 <code>x</code> 相同的元素，则返回与 <code>x</code> 相同的最后一个(最右侧)元素的位置索引，使得 <code>x</code> 若插入后能位于其 右侧；</p>
<p>若序列 <code>a</code> 中不存在与 <code>x</code> 相同的元素，则返回与 <code>x</code> 左侧距离最近的元素位置索引，使得 <code>x</code> 若插入后能位于其 右侧。</p>
<p>而 <code>lo</code> 和 <code>hi</code> 为可选参数，分别定义查找范围&#x2F;返回索引的 上限和下限，缺省时默认对 整个 序列查找。</p>
<p>已知返回的位置索引为插入点 <code>i</code>，可将序列 <code>a</code> 划分为两部分：左侧 <code>a[lo, i]</code> 和右侧 <code>a(i, hi]</code> 。</p>
<h3 id="bisect-bisect"><a href="#bisect-bisect" class="headerlink" title="bisect.bisect()"></a><code>bisect.bisect()</code></h3><p>同<code>bisect_right()</code></p>
<h3 id="bisect-insort-left"><a href="#bisect-insort-left" class="headerlink" title="bisect.insort_left()"></a><code>bisect.insort_left()</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bisect.insort_left(a, x, lo=<span class="number">0</span>, hi=<span class="built_in">len</span>(a))</span><br></pre></td></tr></table></figure>

<p>如果说 <code>bisect.bisect_left()</code> 是为了在序列 a 中 <strong>查找</strong> 元素 <code>x</code> 的插入点 (左侧)，那么 <code>bisect.insort_left()</code> 就是在找到插入点的基础上，**真正地将元素 x 插入序列 **，从而改变序列 <code>a</code> 同时保持元素顺序。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a11 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a11, <span class="number">4.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a11</span><br><span class="line">[<span class="number">4.5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a12 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a12, <span class="number">5.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a12</span><br><span class="line">[<span class="number">5</span>, <span class="number">5.5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a13 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a13, <span class="number">6.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a13</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">6.5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a14 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a14, <span class="number">7.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a14</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">7.5</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a15 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a15, <span class="number">8.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a15</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8.5</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a16 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_left(a16, <span class="number">9.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a16</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">9.5</span>]</span><br></pre></td></tr></table></figure>



<h3 id="bisect-insort-right"><a href="#bisect-insort-right" class="headerlink" title="bisect.insort_right()"></a><code>bisect.insort_right()</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bisect.insort_right(a, x, lo=<span class="number">0</span>, hi=<span class="built_in">len</span>(a))</span><br></pre></td></tr></table></figure>

<p>如果说 <code>bisect.bisect_right()</code> 是为了在序列 <code>a</code> 中 <strong>查找</strong>元素 <code>x</code> 的插入点 (右侧)，那么 <code>bisect.insort_right()</code> 就是在找到插入点的基础上，<strong>真正地将元素 <code>x</code> 插入序列</strong>，从而改变序列 <code>a</code> 同时保持元素顺序。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a11 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a11, <span class="number">4.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a11</span><br><span class="line">[<span class="number">4.5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a12 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a12, <span class="number">5.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a12</span><br><span class="line">[<span class="number">5</span>, <span class="number">5.5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a13 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a13, <span class="number">6.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a13</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">6.5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a14 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a14, <span class="number">7.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a14</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">7.5</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a15 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a15, <span class="number">8.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a15</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8.5</span>, <span class="number">9</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a16 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bisect.insort_right(a16, <span class="number">9.5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a16</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">9.5</span>]</span><br></pre></td></tr></table></figure>

<h3 id="bisect-insort"><a href="#bisect-insort" class="headerlink" title="bisect.insort()"></a><code>bisect.insort()</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bisect.insort(a, x, lo=<span class="number">0</span>, hi=<span class="built_in">len</span>(a))</span><br></pre></td></tr></table></figure>

<p>同<code>bisect.insort_right()</code></p>
<h2 id="SortedList"><a href="#SortedList" class="headerlink" title="SortedList"></a><code>SortedList</code></h2><p>来自于<code>Python</code>中一个专门提供排序的库<code>sortedcontainers</code>。该库提供了三个有用的类: <code>SortedList</code>，<code>SortedDict</code>, <code>SortedSet</code>。</p>
<p>可以通过以下方式声明一个<code>SortedList</code>对象，输出时发现里面的值已经排好序了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedList</span><br><span class="line"></span><br><span class="line">test_sl = SortedList([<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(test_sl)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>结果为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SortedList([1, 2, 3, 4, 5, 6, 7])</span><br></pre></td></tr></table></figure>

<p>以下是一些常见操作:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">test_sl.add(<span class="number">2</span>)<span class="comment"># 添加元素</span></span><br><span class="line"></span><br><span class="line">test_sl.remove(<span class="number">4</span>) <span class="comment"># 删除元素，元素不存在时会报错</span></span><br><span class="line">test_sl.discard(<span class="number">1</span>) <span class="comment"># 删除元素，元素不存在时不会报错</span></span><br><span class="line"><span class="built_in">print</span>(test_sl)</span><br><span class="line"></span><br><span class="line">test_sl.pop() <span class="comment"># 移除最后一个元素</span></span><br><span class="line"><span class="built_in">print</span>(test_sl)</span><br><span class="line"></span><br><span class="line">pos_left = test_sl.bisect_left(<span class="number">2</span>) <span class="comment"># 查找元素存在的位置</span></span><br><span class="line">pos_right = test_sl.bisect_left(<span class="number">2</span>) </span><br><span class="line"><span class="built_in">print</span>(pos_left, pos_right)</span><br><span class="line"></span><br><span class="line">num = test_sl.count(<span class="number">2</span>) <span class="comment"># 计数</span></span><br><span class="line"><span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line">ind = test_sl.index <span class="comment"># 返回第一次出现的下标</span></span><br><span class="line"><span class="built_in">print</span>(ind)</span><br></pre></td></tr></table></figure>

<p> <code>SortedList</code>的排序方法是系统默认的， 我们也可以设置排序方法，比如数值从大到小排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedList</span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> neg</span><br><span class="line"></span><br><span class="line">test_sl = SortedList([<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">4</span>], key=neg)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(test_sl)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">SortedKeyList([<span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>], key=&lt;built-<span class="keyword">in</span> function neg&gt;)</span><br></pre></td></tr></table></figure>

<p>按字符串长度排序:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedList</span><br><span class="line"></span><br><span class="line">test_str = SortedList([<span class="string">&quot;1&quot;</span>, <span class="string">&quot;431&quot;</span>, <span class="string">&quot;34&quot;</span>], key = <span class="keyword">lambda</span> item: <span class="built_in">len</span>(item))</span><br><span class="line"><span class="built_in">print</span>(test_str)</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">SortedKeyList([<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;34&#x27;</span>, <span class="string">&#x27;431&#x27;</span>], key=&lt;function &lt;<span class="keyword">lambda</span>&gt; at <span class="number">0x7fb883b36820</span>&gt;)</span><br></pre></td></tr></table></figure>

<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>list.append(x)</code></td>
<td align="left">把一个元素添加到列表的结尾，相当于 <code>a[len(a):] = [x]</code>。</td>
</tr>
<tr>
<td align="left"><code>list.extend(L)</code></td>
<td align="left">通过添加指定列表的所有元素来扩充列表，相当于 <code>a[len(a):] = L</code>。</td>
</tr>
<tr>
<td align="left"><code>list.insert(i, x)</code></td>
<td align="left">在指定位置插入一个元素。第一个参数是准备插入到其前面的那个元素的索引，例如 <code>a.insert(0, x)</code> 会插入到整个列表之前，而 <code>a.insert(len(a), x)</code> 相当于 <code>a.append(x)</code> 。</td>
</tr>
<tr>
<td align="left"><code>list.remove(x)</code></td>
<td align="left">删除列表中值为 x 的第一个元素。如果没有这样的元素，就会返回一个错误。</td>
</tr>
<tr>
<td align="left"><code>list.pop([i])</code></td>
<td align="left">从列表的指定位置移除元素，并将其返回。如果没有指定索引，<code>a.pop()</code>返回最后一个元素。元素随即从列表中被移除。（方法中 i 两边的方括号表示这个参数是可选的，而不是要求你输入一对方括号，你会经常在 <code>Python</code> 库参考手册中遇到这样的标记。）</td>
</tr>
<tr>
<td align="left"><code>list.clear()</code></td>
<td align="left">移除列表中的所有项，等于<code>del a[:]</code>。</td>
</tr>
<tr>
<td align="left"><code>list.index(x)</code></td>
<td align="left">返回列表中第一个值为 <code>x </code>的元素的索引。如果没有匹配的元素就会返回一个错误。</td>
</tr>
<tr>
<td align="left"><code>list.count(x)</code></td>
<td align="left">返回<code>x</code> 在列表中出现的次数。</td>
</tr>
<tr>
<td align="left"><code>list.sort()</code></td>
<td align="left">对列表中的元素进行排序。</td>
</tr>
<tr>
<td align="left"><code>list.reverse()</code></td>
<td align="left">倒排列表中的元素。</td>
</tr>
<tr>
<td align="left"><code>list.copy()</code></td>
<td align="left">返回列表的浅复制，等于<code>a[:]</code>。</td>
</tr>
</tbody></table>
<p>下面示例演示了列表的大部分方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">66.25</span>, <span class="number">333</span>, <span class="number">333</span>, <span class="number">1</span>, <span class="number">1234.5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a.count(<span class="number">333</span>), a.count(<span class="number">66.25</span>), a.count(<span class="string">&#x27;x&#x27;</span>))</span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.insert(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.append(<span class="number">333</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">66.25</span>, <span class="number">333</span>, -<span class="number">1</span>, <span class="number">333</span>, <span class="number">1</span>, <span class="number">1234.5</span>, <span class="number">333</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index(<span class="number">333</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.remove(<span class="number">333</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">66.25</span>, -<span class="number">1</span>, <span class="number">333</span>, <span class="number">1</span>, <span class="number">1234.5</span>, <span class="number">333</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reverse()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">333</span>, <span class="number">1234.5</span>, <span class="number">1</span>, <span class="number">333</span>, -<span class="number">1</span>, <span class="number">66.25</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.sort()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[-<span class="number">1</span>, <span class="number">1</span>, <span class="number">66.25</span>, <span class="number">333</span>, <span class="number">333</span>, <span class="number">1234.5</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意：类似<code> insert</code>,<code> remove</code> 或 <code>sort</code> 等修改列表的方法没有返回值。</p>
<h2 id="将列表当作堆使用"><a href="#将列表当作堆使用" class="headerlink" title="将列表当作堆使用"></a>将列表当作堆使用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack.append(<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack.pop()</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>stack</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="将列表当作队列使用"><a href="#将列表当作队列使用" class="headerlink" title="将列表当作队列使用"></a>将列表当作队列使用</h2><p>也可以把列表当做队列用，只是在队列里第一加入的元素，第一个取出来；但是拿列表用作这样的目的效率不高。在列表的最后添加或者弹出元素速度快，然而在列表里插入或者从头部弹出速度却不快（因为所有其他的元素都得一个一个地移动）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue=deque([<span class="string">&quot;Eric&quot;</span>, <span class="string">&quot;John&quot;</span>, <span class="string">&quot;Michael&quot;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue.append(<span class="string">&quot;Terry&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue.append(<span class="string">&quot;Graham&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue.popleft()   <span class="comment"># The first to arrive now leaves</span></span><br><span class="line"><span class="string">&#x27;Eric&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue.popleft()</span><br><span class="line"><span class="string">&#x27;John&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>queue</span><br><span class="line">deque([<span class="string">&#x27;Michael&#x27;</span>, <span class="string">&#x27;Terry&#x27;</span>, <span class="string">&#x27;Graham&#x27;</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="deque"><a href="#deque" class="headerlink" title="deque"></a><code>deque</code></h2><p><code>collections.deque</code></p>
<p><code>deque</code>是栈和队列的一种广义实现，<code>deque</code>是”<code>double-end queue</code>“的简称；<code>deque</code>支持线程安全、有效内存地以近似<code>O(1)</code>的性能在<code>deque</code>的两端插入和删除元素，尽管<code>list</code>也支持相似的操作，但是它主要在固定长度操作上的优化，从而在<code>pop(0)</code>和<code>insert(0,v)</code>（会改变数据的位置和大小）上有<code>O(n)</code>的时间复杂度。</p>
<p>常用方法</p>
<h3 id="append"><a href="#append" class="headerlink" title="append()"></a><code>append()</code></h3><p>从右端添加元素（<code>与list同</code>）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">st = <span class="string">&quot;abcd&quot;</span></span><br><span class="line">list1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">dst = deque(st)</span><br><span class="line">dlist1 = deque(list1)</span><br><span class="line">dst.append(<span class="number">4</span>)</span><br><span class="line">dlist1.append(<span class="string">&quot;k&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dlist1)</span><br><span class="line"><span class="comment">#结果：</span></span><br><span class="line"><span class="comment">#deque([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, 4])</span></span><br><span class="line"><span class="comment">#deque([0, 1, 2, 3, &#x27;k&#x27;])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="appendleft"><a href="#appendleft" class="headerlink" title="appendleft()"></a><code>appendleft()</code></h3><p>在左端添加元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">st = <span class="string">&quot;abcd&quot;</span></span><br><span class="line">list1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">dst = deque(st)</span><br><span class="line">dlist1 = deque(list1)</span><br><span class="line">dst.appendleft(<span class="number">4</span>)</span><br><span class="line">dlist1.appendleft(<span class="string">&quot;k&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dlist1)</span><br><span class="line"><span class="comment">#结果：</span></span><br><span class="line"><span class="comment">#deque([4, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span></span><br><span class="line"><span class="comment">#deque([&#x27;k&#x27;, 0, 1, 2, 3])</span></span><br></pre></td></tr></table></figure>

<h3 id="extend"><a href="#extend" class="headerlink" title="extend()"></a><code>extend()</code></h3><p>从右端逐个添加可迭代对象（<code>与list同</code>）<br>Python中的可迭代对象有：列表、元组、字典、字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">ex = (<span class="number">1</span>, <span class="string">&quot;h&quot;</span>, <span class="number">3</span>)</span><br><span class="line">st = <span class="string">&quot;abcd&quot;</span></span><br><span class="line">list1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">dst = deque(st)</span><br><span class="line">dlist1 = deque(list1)</span><br><span class="line">dst.extend(ex)</span><br><span class="line">dlist1.extend(ex)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dlist1)</span><br><span class="line"><span class="comment">#结果：</span></span><br><span class="line"><span class="comment">#deque([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, 1, &#x27;h&#x27;, 3])</span></span><br><span class="line"><span class="comment">#deque([0, 1, 2, 3, 1, &#x27;h&#x27;, 3])</span></span><br></pre></td></tr></table></figure>

<h3 id="pop"><a href="#pop" class="headerlink" title="pop()"></a><code>pop()</code></h3><p>移除列表中的一个元素（默认最右端的一个元素），并且返回该元素的值（<code>与list同</code>），如果没有元素，将会报出<code>IndexError</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">st = <span class="string">&quot;abcd&quot;</span></span><br><span class="line">list1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">dst = deque(st)</span><br><span class="line">dlist1 = deque(list1)</span><br><span class="line">p = dst.pop()</span><br><span class="line">p1 = dlist1.pop()</span><br><span class="line"><span class="built_in">print</span>(p)</span><br><span class="line"><span class="built_in">print</span>(p1)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dlist1)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#d</span></span><br><span class="line"><span class="comment">#3</span></span><br><span class="line"><span class="comment">#deque([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;])</span></span><br><span class="line"><span class="comment">#deque([0, 1, 2])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="popleft"><a href="#popleft" class="headerlink" title="popleft()"></a><code>popleft()</code></h3><p>移除列表中的一个元素（默认最左端的一个元素），并且返回该元素的值，如果没有元素，将会报出<code>IndexError</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">st = <span class="string">&quot;abcd&quot;</span></span><br><span class="line">list1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">dst = deque(st)</span><br><span class="line">dlist1 = deque(list1)</span><br><span class="line">p = dst.popleft()</span><br><span class="line">p1 = dlist1.popleft()</span><br><span class="line"><span class="built_in">print</span>(p)</span><br><span class="line"><span class="built_in">print</span>(p1)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dlist1)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#a</span></span><br><span class="line"><span class="comment">#0</span></span><br><span class="line"><span class="comment">#deque([&#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span></span><br><span class="line"><span class="comment">#deque([1, 2, 3])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="count"><a href="#count" class="headerlink" title="count()"></a><code>count()</code></h3><p>统计队列中的元素个数（<code>与list同</code>）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;abbcd&quot;</span></span><br><span class="line">dst = deque(st)</span><br><span class="line">p = dst.count(<span class="string">&quot;b&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(p)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span></span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="insert-index-obj"><a href="#insert-index-obj" class="headerlink" title="insert(index,obj)"></a><code>insert(index,obj)</code></h3><p>在指定位置插入元素（<code>与list同</code>）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;abbcd&quot;</span></span><br><span class="line">dst = deque(st)</span><br><span class="line">dst.insert(<span class="number">0</span>, <span class="string">&quot;chl&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([&#x27;chl&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="rotate-n"><a href="#rotate-n" class="headerlink" title="rotate(n)"></a><code>rotate(n)</code></h3><p><code>rotate(n)</code>， 从右侧反转<code>n</code>步，如果<code>n</code>为负数，则从左侧反转。<br><code>d.rotate(1) </code>等于 <code>d.appendleft(d.pop())</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;abbcd&quot;</span></span><br><span class="line">dst = deque(st)</span><br><span class="line">dst.rotate(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([&#x27;d&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;, &#x27;c&#x27;])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="clear"><a href="#clear" class="headerlink" title="clear()"></a><code>clear()</code></h3><p>将<code>deque</code>中的元素全部删除，最后长度为0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;abbcd&quot;</span></span><br><span class="line">dst = deque(st)</span><br><span class="line">dst.clear()</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="remove"><a href="#remove" class="headerlink" title="remove()"></a><code>remove()</code></h3><p>移除第一次出现的元素，如果没有找到，报出<code>ValueError</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;abbcd&quot;</span></span><br><span class="line">dst = deque(st)</span><br><span class="line">dst.remove(<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line">dst.remove(<span class="string">&quot;f&quot;</span>)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([&#x27;b&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])</span></span><br><span class="line"><span class="comment">#ValueError: deque.remove(x): x not in deque</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="maxlen"><a href="#maxlen" class="headerlink" title="maxlen()"></a><code>maxlen()</code></h3><p>只读的属性，<code>deque</code>限定的最大长度，如果无，就返回<code>None</code>。<br>当限制长度的<code>deque</code>增加超过限制数的项时, 另一边的项会<code>自动删除</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line">dst = deque(maxlen=<span class="number">2</span>)</span><br><span class="line">dst.append(<span class="number">1</span>)</span><br><span class="line">dst.append(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line">dst.append(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(dst)</span><br><span class="line"><span class="built_in">print</span>(dst.maxlen)</span><br><span class="line"><span class="comment">#结果:</span></span><br><span class="line"><span class="comment">#deque([1, 2], maxlen=2)</span></span><br><span class="line"><span class="comment">#deque([2, 3], maxlen=2)</span></span><br><span class="line"><span class="comment">#2</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/10/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" data-id="cle1bhele00099ove9kyzd0bg" data-title="常用数据结构" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-面向对象" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/07/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time class="dt-published" datetime="2023-02-07T08:41:37.000Z" itemprop="datePublished">2023-02-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PythonNotes/">PythonNotes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/07/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><ul>
<li><strong>类(Class):</strong> 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。</li>
<li><strong>方法：</strong>类中定义的函数。</li>
<li><strong>类变量：</strong>类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。</li>
<li><strong>数据成员：</strong>类变量或者实例变量用于处理类及其实例对象的相关的数据。</li>
<li><strong>方法重写：</strong>如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（<code>override</code>），也称为方法的重写。</li>
<li><strong>局部变量：</strong>定义在方法中的变量，只作用于当前实例的类。</li>
<li><strong>实例变量：</strong>在类的声明中，属性是用变量来表示的，这种变量就称为实例变量，实例变量就是一个用 <code>self</code> 修饰的变量。</li>
<li><strong>继承：</strong>即一个派生类（<code>derived class</code>）继承基类（<code>base class</code> ）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个<code>Dog</code>类型的对象派生自<code>Animal</code>类，这是模拟”是一个（<code>is-a</code>）”关系（例图，<code>Dog</code>是一个<code>Animal</code>）。</li>
<li><strong>实例化：</strong>创建一个类的实例，类的具体对象。</li>
<li><strong>对象：</strong>通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。</li>
</ul>
<p>和其它编程语言相比，<code>Python</code> 在尽可能不增加新的语法和语义的情况下加入了类机制。</p>
<p><code>Python</code>中的类提供了面向对象编程的所有基本功能：类的继承机制允许多个基类，派生类可以覆盖基类中的任何方法，方法中可以调用基类中的同名方法。</p>
<p>对象可以包含任意数量和类型的数据。</p>
<h2 id="类对象"><a href="#类对象" class="headerlink" title="类对象"></a>类对象</h2><p>类对象支持两种操作: 属性引用和实例化。</p>
<p>属性引用使用和<code>Python</code>中所有的属性引用一样的标准语法: <code>obj.name</code></p>
<p>类对象创建后，类命名空间中所有的命名都是有效属性名。所以如果类定义是这样:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;一个简单的类实例&quot;&quot;&quot;</span></span><br><span class="line">    i = <span class="number">12345</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例化类</span></span><br><span class="line">x = MyClass()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问类的属性和方法</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MyClass 类的属性i为: &quot;</span>, x.i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MyClass 类的方法f输出为: &quot;</span>, x.f())</span><br></pre></td></tr></table></figure>



<p>以上创建了一个新的类实例并将该对象赋给局部变量<code> x</code>，<code>x</code> 为空的对象。</p>
<p>执行以上程序输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MyClass 类的属性 i 为： 12345</span><br><span class="line">MyClass 类的方法 f 输出为： hello world</span><br></pre></td></tr></table></figure>

<p>类有一个名为<code>__init__()</code>的特殊方法(构造方法), 该方法在类实力化时会自动调用，像下面这样:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    self.data = []</span><br></pre></td></tr></table></figure>

<p>类定义了<code>__init__()</code>方法，类的实例化操作会动调用<code>__init__()</code>方法。例如实例化类<code>MyClass</code>，对应的<code>__init__()</code>方法就会被调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = MyClass()</span><br></pre></td></tr></table></figure>

<p>当然，<code>__init__()</code>方法可以有参数，参数通过<code>__init()__</code>传递到类的实例化操作上。例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, realpart, imagepart</span>):</span><br><span class="line">        self.r = realpart</span><br><span class="line">        self.i = imagepart</span><br><span class="line">        </span><br><span class="line">x = Complex(<span class="number">3.0</span>, -<span class="number">4.5</span>)</span><br><span class="line"><span class="built_in">print</span>(x.r, x.i) <span class="comment"># 输出结果: 3.0, -4.5</span></span><br></pre></td></tr></table></figure>

<h2 id="self代表类的实例，而非类"><a href="#self代表类的实例，而非类" class="headerlink" title="self代表类的实例，而非类"></a><code>self</code>代表类的实例，而非类</h2><p>类的方法与普通的函数只有一个特别的区别-它们必须有一个额外的<code>第一个参数名称</code>,按照惯例它的名称是<code>self</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">prt</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self)</span><br><span class="line">        <span class="built_in">print</span>(self.__class__)</span><br><span class="line">   </span><br><span class="line">t = Test()</span><br><span class="line">t.prt()</span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Test object at 0x000001860D54A950&gt;</span><br><span class="line">&lt;class &#x27;__main__.Test&#x27;&gt;</span><br></pre></td></tr></table></figure>

<p>从执行结果可以很明显的看出，<code>self</code> 代表的是类的实例，代表当前对象的地址，而 <code>self.class</code> 则指向类。</p>
<p><code>self</code> 不是 <code>python</code> 关键字，我们把他换成 <code>runoob</code> 也是可以正常执行的:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">prt</span>(<span class="params">runoob</span>):</span><br><span class="line">        <span class="built_in">print</span>(runoob)</span><br><span class="line">        <span class="built_in">print</span>(runoob.__class__)</span><br><span class="line">        </span><br><span class="line">t = Test()</span><br><span class="line">t.prt()</span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Test object at 0x000001860D54A830&gt;</span><br><span class="line">&lt;class &#x27;__main__.Test&#x27;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="类的方法"><a href="#类的方法" class="headerlink" title="类的方法"></a>类的方法</h2><p>在类的内部, 使用<code>def</code>关键字来定义一个方法，与一般函数定义不同，类方法必须包含参数<code>self</code>， 且为第一个参数，<code>self</code>代表的是类的实例。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    <span class="comment"># 定义基本属性</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义私有属性。私有属性在类外部无法直接进行访问</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义构造方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说：我 %d 岁。&quot;</span> %(self.name,self.age))</span><br><span class="line">     </span><br><span class="line"><span class="comment"># 实例化类</span></span><br><span class="line">p = people(<span class="string">&#x27;runoob&#x27;</span>, <span class="number">10</span>, <span class="number">30</span>)</span><br><span class="line">p.speak()</span><br></pre></td></tr></table></figure>

<p>执行以上程序的输出结果为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob 说: 我 10 岁。</span><br></pre></td></tr></table></figure>

<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p><code>Python</code>同样支持类的继承，如果一种语言不支持继承，类就没有什么意义。</p>
<p>子类（派生类 <code>DerivedClassName</code>）会继承父类（基类<code> BaseClassName</code>）的属性和方法。</p>
<p><code>BaseClassName</code>（实例中的基类名）必须与派生类定义在一个作用域内。除了类，还可以用表达式，基类定义在另一个模块中时这一点非常有用:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClassName</span>(modname.BaseClassName):</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类定义</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    <span class="comment"># 定义基本属性</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义私有属性，私有属性在类外部无法直接访问</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义构造方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁。 &quot;</span> %(self.name, self.age))</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 单继承示例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>(<span class="title class_ inherited__">people</span>):</span><br><span class="line">    grade = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g</span>):</span><br><span class="line">        <span class="comment"># 调用父类的构函</span></span><br><span class="line">        people.__init__(self,n,a,w)</span><br><span class="line">        self.grade=g</span><br><span class="line">    <span class="comment"># 覆写父类的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我%d岁了，我在读%d年级&quot;</span>%(self.name, self.age, self.grade))</span><br><span class="line">        </span><br><span class="line">s = student(<span class="string">&#x27;ken&#x27;</span>, <span class="number">10</span>, <span class="number">60</span>, <span class="number">3</span>)</span><br><span class="line">s.speak()</span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ken 说: 我 <span class="number">10</span> 岁了，我在读 <span class="number">3</span> 年级</span><br></pre></td></tr></table></figure>

<h2 id="多继承"><a href="#多继承" class="headerlink" title="多继承"></a>多继承</h2><p><code>Python</code>同样有限的支持多继承形式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClassName</span>(Base1, Base2, Base3):</span><br><span class="line">    &lt;statement-<span class="number">1</span>&gt;</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    &lt;statement-N&gt;</span><br></pre></td></tr></table></figure>

<p>需要注意圆括号中父类的顺序，若是父类中有相同的方法名，而在子类使用时未指定，<code>python</code>从左至右搜索 即方法在子类中未找到时，从左到右查找父类中是否包含方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类定义</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line">    <span class="comment"># 定义基本属性</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义私有属性，私有属性在类外部无法直接进行访问</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义构造方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说： 我 %d 岁。 &quot;</span> %(self.name, self.age))</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 单继承示例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>(<span class="title class_ inherited__">people</span>):</span><br><span class="line">    grade = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g</span>):</span><br><span class="line">        <span class="comment"># 调用父类构函</span></span><br><span class="line">        people.__init__(self,n,a,w)</span><br><span class="line">        self.grade = g</span><br><span class="line">    <span class="comment"># 覆写父类方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁了，我在读 %d 年级&quot;</span>%(self.name,self.age,self.grade))</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 另一个类，多继承之前的准备</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">speaker</span>():</span><br><span class="line">    topic = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,t</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.topic = t</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我叫 %s, 我是一个演说家， 我演讲的主题是 %s&quot;</span> %(self.name, self.topic))</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 多重继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sample</span>(speaker, student):</span><br><span class="line">    a = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a,w,g,t</span>):</span><br><span class="line">       student.__init__(self,n,a,w,g)</span><br><span class="line">    	speaker.__init__(self,n,t)</span><br><span class="line"></span><br><span class="line">test = sample(<span class="string">&quot;Tim&quot;</span>, <span class="number">25</span>, <span class="number">80</span>, <span class="number">4</span>, <span class="string">&quot;Python&quot;</span>)</span><br><span class="line">test.speak()   <span class="comment">#方法名同，默认调用的是在括号中参数位置排前父类的方法</span></span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我叫 Tim，我是一个演说家，我演讲的主题是 Python</span><br></pre></td></tr></table></figure>

<h2 id="方法重写和super-函数"><a href="#方法重写和super-函数" class="headerlink" title="方法重写和super()函数"></a>方法重写和<code>super()</code>函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>:	<span class="comment"># 定义父类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">myMethod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;调用父类方法&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span>(<span class="title class_ inherited__">Parent</span>): <span class="comment"># 定义子类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">myMethod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;调用子类方法&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">c = Child() <span class="comment"># 子类实例</span></span><br><span class="line">c.myMethod() <span class="comment"># 子类调用重写方法</span></span><br><span class="line"><span class="built_in">super</span>(Child,c).myMethod() <span class="comment"># 用子类对象调用父类已被覆盖的方法</span></span><br></pre></td></tr></table></figure>

<p><code>super()函数</code>是用于调用父类(超类)的一个方法。</p>
<p>以上程序的输出结果为:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">调用子类方法</span><br><span class="line">调用父类方法</span><br></pre></td></tr></table></figure>



<h2 id="类属性与方法"><a href="#类属性与方法" class="headerlink" title="类属性与方法"></a>类属性与方法</h2><h3 id="类的私有属性"><a href="#类的私有属性" class="headerlink" title="类的私有属性"></a>类的私有属性</h3><p><code>__private _attrs</code>: 两个下划线开头，声明该属性为私有，不能在外部被使用或直接访问。在类内部的方法中使用<code>self.__private_attrs</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">JustCounter</span>:</span><br><span class="line">    __secretCount = <span class="number">0</span>  <span class="comment"># 私有变量</span></span><br><span class="line">    publicCount = <span class="number">0</span>    <span class="comment"># 公开变量</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">count</span>(<span class="params">self</span>):</span><br><span class="line">        self.__secretCount += <span class="number">1</span></span><br><span class="line">        self.publicCount += <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span> (self.__secretCount)</span><br><span class="line"> </span><br><span class="line">counter = JustCounter()</span><br><span class="line">counter.count()</span><br><span class="line">counter.count()</span><br><span class="line"><span class="built_in">print</span> (counter.publicCount)</span><br><span class="line"><span class="built_in">print</span> (counter.__secretCount)  <span class="comment"># 报错，实例不能访问私有变量</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;test.py&quot;</span>, line <span class="number">16</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span> (counter.__secretCount)  <span class="comment"># 报错，实例不能访问私有变量</span></span><br><span class="line">AttributeError: <span class="string">&#x27;JustCounter&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;__secretCount&#x27;</span></span><br></pre></td></tr></table></figure>



<h3 id="类的方法-1"><a href="#类的方法-1" class="headerlink" title="类的方法"></a>类的方法</h3><p>参数必须带有<code>self</code>，且必须为第一个参数</p>
<h3 id="类的私有方法"><a href="#类的私有方法" class="headerlink" title="类的私有方法"></a>类的私有方法</h3><p><code>__private_method</code>：两个下划线开头，声明该方法为私有方法，只能在类的内部调用，不能在类的外部调用。<code>self.__private_methods</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Site</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, url</span>):</span><br><span class="line">        self.name = name       <span class="comment"># public</span></span><br><span class="line">        self.__url = url   <span class="comment"># private</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">who</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;name  : &#x27;</span>, self.name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;url : &#x27;</span>, self.__url)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__foo</span>(<span class="params">self</span>):          <span class="comment"># 私有方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这是私有方法&#x27;</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">self</span>):            <span class="comment"># 公共方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这是公共方法&#x27;</span>)</span><br><span class="line">        self.__foo()</span><br><span class="line"> </span><br><span class="line">x = Site(<span class="string">&#x27;菜鸟教程&#x27;</span>, <span class="string">&#x27;www.runoob.com&#x27;</span>)</span><br><span class="line">x.who()        <span class="comment"># 正常输出</span></span><br><span class="line">x.foo()        <span class="comment"># 正常输出</span></span><br><span class="line">x.__foo()      <span class="comment"># 报错</span></span><br></pre></td></tr></table></figure>

<h3 id="类的专有方法"><a href="#类的专有方法" class="headerlink" title="类的专有方法"></a>类的专有方法</h3><ul>
<li><code>__init__()</code> 构造函数，在生成对象时调用</li>
<li><code>__del__()</code> 析构函数，释放对象时使用</li>
<li><code>__repr__()</code> 打印，转换</li>
<li><code>__setitem__()</code> 按照索引赋值</li>
<li><code>__getitem__()</code> 按照索引获取值</li>
<li><code>__len__()</code> 获得长度</li>
<li><code>__cmp__()</code> 比较运算</li>
<li><code>__call__()</code> 函数调用</li>
<li><code>__add__()</code> 加运算</li>
<li><code>__sub__()</code> 减运算</li>
<li><code>__mul__()</code> 乘运算</li>
<li><code>__truediv__()</code> 除运算</li>
<li><code>__mod__()</code> 求余运算</li>
<li><code>__pow__()</code> 乘方</li>
</ul>
<h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><p>可以对类的专有方法进行运算符重载</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>:</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, a, b</span>):</span><br><span class="line">      self.a = a</span><br><span class="line">      self.b = b</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;Vector (%d, %d)&#x27;</span> % (self.a, self.b)</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self,other</span>):</span><br><span class="line">      <span class="keyword">return</span> Vector(self.a + other.a, self.b + other.b)</span><br><span class="line"> </span><br><span class="line">v1 = Vector(<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line">v2 = Vector(<span class="number">5</span>,-<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span> (v1 + v2)</span><br></pre></td></tr></table></figure>

<p>执行结果为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vector(<span class="number">7</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/07/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" data-id="cle1bhel200029ove704257hh" data-title="面向对象" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-异常与错误" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/07/%E5%BC%82%E5%B8%B8%E4%B8%8E%E9%94%99%E8%AF%AF/" class="article-date">
  <time class="dt-published" datetime="2023-02-07T07:19:12.000Z" itemprop="datePublished">2023-02-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/PythonNotes/">PythonNotes</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/07/%E5%BC%82%E5%B8%B8%E4%B8%8E%E9%94%99%E8%AF%AF/">异常与错误</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python3-错误和异常"><a href="#Python3-错误和异常" class="headerlink" title="Python3 错误和异常"></a><code>Python3</code> 错误和异常</h1><p>异常与错误不一样。即使<code>Python</code>程序的语法是正确的，在运行它的时候也有可能发生错误。运行期检测到的错误被称为异常。大多数的异常都不会被程序处理，都以错误信息的形式展现在这里</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> * (<span class="number">1</span>/<span class="number">0</span>)             <span class="comment"># 0 不能作为除数，触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">ZeroDivisionError: division by zero</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> + spam*<span class="number">3</span>             <span class="comment"># spam 未定义，触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">NameError: name <span class="string">&#x27;spam&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;2&#x27;</span> + <span class="number">2</span>               <span class="comment"># int 不能与 str 相加，触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: can only concatenate <span class="built_in">str</span> (<span class="keyword">not</span> <span class="string">&quot;int&quot;</span>) to <span class="built_in">str</span></span><br></pre></td></tr></table></figure>

<p>异常以不同的类型出现，这些类型都作为信息的一部分打印出来: 例子中的类型有 <code>ZeroDivisionError</code>，<code>NameError</code> 和 <code>TypeError</code>。</p>
<p>错误信息的前面部分显示了异常发生的上下文，并以调用栈的形式显示具体信息。</p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="try-except"><a href="#try-except" class="headerlink" title="try/except"></a><code>try/except</code></h3><p>以下例子中，让用户输入一个合法的整数，但是允许用户中断这个程序（使用 <code>Control-C</code> 或者操作系统提供的方法）。用户中断的信息会引发一个 <code>KeyboardInterrupt</code> 异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个数字: &quot;</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;您输入的不是数字，请再次尝试输入！&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><code>try</code>按以下方式工作:</p>
<p>首先，执行<code>try</code>子句(在关键字<code>try</code>和关键字<code>except</code>之间的语句)。如果没有异常发生，忽略<code>except</code>子句，<code>try</code>子句执行后结束。如果在执行 <code>try</code> 子句的过程中发生了异常，那么<code> try</code> 子句余下的部分将被忽略。如果异常的类型和<code> except</code> 之后的名称相符，那么对应的 <code>except</code> 子句将被执行。如果一个异常没有与任何的 <code>except</code> 匹配，那么这个异常将会传递给上层的<code> try</code> 中。</p>
<p>一个<code> try</code> 语句可能包含多个<code>except</code>子句，分别来处理不同的特定的异常。最多只有一个分支会被执行。</p>
<p>处理程序将只针对对应的<code> try</code> 子句中的异常进行处理，而不是其他的 <code>try</code> 的处理程序中的异常。</p>
<p>一个<code>except</code>子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组，例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span>(RuntimeError, TypeError, NameError):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>最后一个<code>except</code>子句可以忽略异常的名称，它将被当作通配符使用。你可以使用这种方法打印一个错误信息，然后再次把异常抛出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;myfile.txt&#x27;</span>)</span><br><span class="line">    s = f.readline()</span><br><span class="line">    i = <span class="built_in">int</span>(s.strip())</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;OS error: &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(err))</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Could not convert data to an integer.&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unexpected error:&quot;</span>, sys.exc_info()[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>

<h3 id="try-except-else"><a href="#try-except-else" class="headerlink" title="try/except...else"></a><code>try/except...else</code></h3><p><code>try/except</code> 语句还有一个可选的 <code>else</code> 子句，如果使用这个子句，那么必须放在所有的 <code>except</code> 子句之后。</p>
<p><code>else</code> 子句将在 <code>try</code> 子句没有发生任何异常的时候执行。</p>
<p>以下实例在 <code>try</code> 语句中判断文件是否可以打开，如果打开文件时正常的没有发生异常则执行 <code>else</code> 部分的语句，读取文件内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> sys.argv[<span class="number">1</span>:]:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(arg, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> IOError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;cannot open&#x27;</span>, arg)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(arg, <span class="string">&#x27;has&#x27;</span>, <span class="built_in">len</span>(f.readlines()), <span class="string">&#x27;lines&#x27;</span>)</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure>

<p>使用 <code>else</code> 子句比把所有的语句都放在 try 子句里面要好，这样可以避免一些意想不到，而 <code>except</code> 又无法捕获的异常。</p>
<p>异常处理并不仅仅处理那些直接发生在 <code>try</code> 子句中的异常，而且还能处理子句中调用的函数（甚至间接调用的函数）里抛出的异常。例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">this_fails</span>():</span><br><span class="line">        x = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line">        this_fails()</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> err:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Handling run-time error:&#x27;</span>, err)</span><br><span class="line">   </span><br><span class="line">Handling run-time error: <span class="built_in">int</span> division <span class="keyword">or</span> modulo by zero</span><br></pre></td></tr></table></figure>

<h3 id="用户自定义异常"><a href="#用户自定义异常" class="headerlink" title="用户自定义异常"></a>用户自定义异常</h3><p>可以通过创建一个新的异常类来拥有自己的异常。异常类继承自 <code>Exception</code> 类，可以直接继承，或者间接继承，例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">MyError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">            self.value = value</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">repr</span>(self.value)</span><br><span class="line">   </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">raise</span> MyError(<span class="number">2</span>*<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">except</span> MyError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;My exception occurred, value:&#x27;</span>, e.value)</span><br><span class="line">   </span><br><span class="line">My exception occurred, value: <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">raise</span> MyError(<span class="string">&#x27;oops!&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">__main__.MyError: <span class="string">&#x27;oops!&#x27;</span></span><br></pre></td></tr></table></figure>

<p>在这个例子中，类 <code>Exception</code> 默认的 <code>__init__()</code> 被覆盖。</p>
<p>当创建一个模块有可能抛出多种不同的异常时，一种通常的做法是为这个包建立一个基础异常类，然后基于这个基础类为不同的错误情况创建不同的子类:</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/02/07/%E5%BC%82%E5%B8%B8%E4%B8%8E%E9%94%99%E8%AF%AF/" data-id="cle1bhel500039oveebnaeyro" data-title="异常与错误" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E5%9F%BA%E7%A1%80/">Java基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PythonNotes/">PythonNotes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E9%A2%98/">算法题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%80%83%E7%A0%94/">考研</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" rel="tag">技术和学习博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%80%83%E7%A0%94/" rel="tag">考研</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E6%8A%80%E6%9C%AF%E5%92%8C%E5%AD%A6%E4%B9%A0%E5%8D%9A%E5%AE%A2/" style="font-size: 20px;">技术和学习博客</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">考研</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/07/java%E7%AE%80%E4%BB%8B/">java简介</a>
          </li>
        
          <li>
            <a href="/2023/03/07/%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F/">第一个java程序</a>
          </li>
        
          <li>
            <a href="/2023/03/05/%E6%8E%A8%E5%AF%BC%E5%BC%8F/">推导式</a>
          </li>
        
          <li>
            <a href="/2023/03/01/%E8%80%83%E7%A0%94%E5%A4%8D%E8%AF%95%E9%97%AE%E9%A2%98/">考研复试问题</a>
          </li>
        
          <li>
            <a href="/2023/02/13/%E5%AD%97%E5%85%B8/">字典</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>